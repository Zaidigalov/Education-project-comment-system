{"version":3,"file":"main.js","mappings":"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","sources":["webpack://comment_system/./src/js/comment.js","webpack://comment_system/./src/js/index.js","webpack://comment_system/./src/js/input.js","webpack://comment_system/./src/js/reply.js","webpack://comment_system/./src/js/reply_input.js","webpack://comment_system/webpack/bootstrap","webpack://comment_system/webpack/before-startup","webpack://comment_system/webpack/startup","webpack://comment_system/webpack/after-startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass CommentModule {\n    constructor(id) {\n        this.name = \"Аноним\";\n        this.rank = 0;\n        this.absRank = Math.abs(this.rank);\n        this.rankStatus = \"none\";\n        this.freePoints = 1;\n        this.isReplied = false;\n        this.isFavorite = false;\n        this.id = id;\n        this.fullDate = new Date().getTime();\n        this.month = new Date().getMonth() + 1;\n        if (this.month < 10) {\n            this.month = \"0\" + this.month;\n        }\n        this.day = new Date().getDate();\n        if (this.day < 10) {\n            this.day = \"0\" + this.day;\n        }\n        this.hours = new Date().getHours();\n        if (this.hours < 10) {\n            this.hours = \"0\" + this.hours;\n        }\n        this.minutes = new Date().getMinutes();\n        if (this.minutes < 10) {\n            this.minutes = \"0\" + this.minutes;\n        }\n        this.date = `${this.day}.${this.month} ${this.hours}:${this.minutes}`;\n        this.commentText = document.querySelector(\".textarea__input\").textContent;\n    }\n}\nexports.default = CommentModule;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst input_1 = __importDefault(require(\"./input\"));\nconst comment_1 = __importDefault(require(\"./comment\"));\nconst reply_input_1 = __importDefault(require(\"./reply_input\"));\nconst reply_1 = __importDefault(require(\"./reply\"));\nclass Main {\n    constructor() {\n        this.updateElements = () => {\n            this.allComments = Array.from(document.querySelectorAll(\".comment\"));\n            this.quantityOfComments = this.allComments.length;\n            document.querySelector(\".info__quantity\").innerText = this.quantityOfComments;\n        };\n        this.showFavorite = () => {\n            this.buttonShowFavorite.classList.toggle(\"show-favorites\");\n            let answers = Array.from(document.querySelectorAll(\".reply__answer\"));\n            if (this.buttonShowFavorite.classList.contains(\"show-favorites\")) {\n                answers.forEach((item) => {\n                    item.style.marginLeft = \"0\";\n                });\n            }\n            else {\n                answers.forEach((item) => {\n                    item.style.marginLeft = \"91px\";\n                });\n            }\n            this.allComments = Array.from(document.querySelectorAll(\".comment\"));\n            this.allComments.forEach((item) => {\n                if (item.getAttribute(\"favorite\") == \"false\") {\n                    if (this.buttonShowFavorite.classList.contains(\"show-favorites\")) {\n                        item.style.display = \"none\";\n                    }\n                    else {\n                        item.style.display = \"flex\";\n                    }\n                }\n            });\n        };\n        this.changeRank = (rankButton) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            let parent = rankButton.parentNode.parentNode.parentNode.parentNode;\n            let id = Number(parent[\"id\"].split(\"-\")[0]);\n            let parentObj = this.allCommentsObj.get(id);\n            if (rankButton.classList[1] == \"rating__button_decrease\") {\n                if (parentObj.rankStatus == \"none\") {\n                    parentObj.rank -= parentObj.freePoints;\n                    parentObj.rankStatus = \"decreased\";\n                }\n                if (parentObj.rankStatus == \"increased\") {\n                    parentObj.rank -= parentObj.freePoints;\n                    parentObj.rankStatus = \"none\";\n                }\n                (_b = (_a = rankButton.nextSibling) === null || _a === void 0 ? void 0 : _a.nextSibling) === null || _b === void 0 ? void 0 : _b.textContent = parentObj.rank;\n            }\n            if (rankButton.classList[1] == \"rating__button_increase\") {\n                if (parentObj.rankStatus == \"none\") {\n                    parentObj.rank += parentObj.freePoints;\n                    parentObj.rankStatus = \"increased\";\n                }\n                if (parentObj.rankStatus == \"decreased\") {\n                    parentObj.rank += parentObj.freePoints;\n                    parentObj.rankStatus = \"none\";\n                }\n                (_d = (_c = rankButton.previousSibling) === null || _c === void 0 ? void 0 : _c.previousSibling) === null || _d === void 0 ? void 0 : _d.textContent = parentObj.rank;\n            }\n            if (parentObj.rank < 0) {\n                (_e = rankButton.nextSibling) === null || _e === void 0 ? void 0 : _e.nextSibling.style.color = \"#fa0000ff\";\n            }\n            if (parentObj.rank == 0) {\n                if ((_f = rankButton.previousSibling) === null || _f === void 0 ? void 0 : _f.previousSibling) {\n                    (_g = rankButton.previousSibling) === null || _g === void 0 ? void 0 : _g.previousSibling.style.color = \"#999999ff\";\n                }\n                else {\n                    (_h = rankButton.nextSibling) === null || _h === void 0 ? void 0 : _h.nextSibling.style.color = \"#999999ff\";\n                }\n            }\n            if (parentObj.rank > 0) {\n                (_j = rankButton.previousSibling) === null || _j === void 0 ? void 0 : _j.previousSibling.style.color = \"#8ac44bff\";\n            }\n            this.saveChange(id, parentObj);\n        };\n        this.createComment = () => {\n            let id = this.allCommentsObj.size;\n            let comment = new comment_1.default(id);\n            this.allCommentsObj.set(id, comment);\n            this.saveComments(id, comment);\n        };\n        this.showComments = (comment) => {\n            if (comment.commentText == undefined)\n                return;\n            let tred = document.createElement(\"article\");\n            tred.className = \"tred\";\n            let isFavorite = \"В избранное\";\n            let clasForFavorite = \"\";\n            if (comment.isFavorite == true) {\n                isFavorite = \"В избранном\";\n                clasForFavorite = \"actions__button__favorite_pressed\";\n            }\n            let rankColor;\n            if (comment.rank < 0) {\n                rankColor = \"#fa0000ff\";\n            }\n            if (comment.rank == 0) {\n                rankColor = \"#999999ff\";\n            }\n            if (comment.rank > 0) {\n                rankColor = \"#8ac44bff\";\n            }\n            tred.innerHTML = `\r\n    <div class=\"tred__comment comment\" id =\"${comment.id}\" replied = \"${comment.isReplied}\" favorite = \"${comment.isFavorite}\" rank = \"${comment.rank}\" freePoints =\"${comment.freePoints}\" rankStatus=\"${comment.rankStatus}\">\r\n              <div class=\"comment__avatar avatar\">\r\n                <img class=\"avatar__image\" src=\"https://loremflickr.com/61/61\" alt=\"avatar\" />\r\n              </div>\r\n              <div class=\"comment__main\">\r\n                <div class=\"comment-main__info\">\r\n                  <p class=\"comment-main__info__name\">${comment.name}</p>\r\n                  <p class=\"comment-main__info__time\">${comment.date}</p>\r\n                </div>\r\n                <div class=\"main__text\">${comment.commentText}\r\n                </div>\r\n                <div class=\"main__actions actions\">\r\n                  <span class=\"actions__button__reply\" id =\"${comment.id}-btn\" >Ответить</span>\r\n                  <span class=\"actions__button__favorite ${clasForFavorite}\">${isFavorite}</span>\r\n                  <div class=\"actions__rating rating\">\r\n                    <button class=\"rating__button rating__button_decrease\">-</button>\r\n                    <span class=\"rating__number\" style=color:${rankColor}>${comment.rank}</span>\r\n                    <button class=\"rating__button rating__button_increase\"></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n    </div>\r\n    <div class=\"tred__reply\"></div>`;\n            document.querySelector(\".comments\").append(tred);\n            comment.appropriateHTMLObject = document.getElementById(`${comment.id}`);\n            if (comment.replyObj && !this.buttonShowFavorite.classList.contains(\"show-favorites\")) {\n                this.showReply(comment, comment.replyObj);\n            }\n            tred.scrollIntoView();\n        };\n        this.showReply = (parent, replyObj) => {\n            let reply = document.createElement(\"div\");\n            reply.className = \"reply__answer comment\";\n            parent.appropriateHTMLObject.nextSibling.nextSibling.append(reply);\n            reply.setAttribute(\"id\", `${replyObj.id}`);\n            reply.setAttribute(\"favorite\", `${replyObj.isFavorite}`);\n            let isFavorite = \"В избранное\";\n            let clasForFavorite = \"\";\n            if (replyObj.isFavorite == true) {\n                isFavorite = \"В избранном\";\n                clasForFavorite = \"actions__button__favorite_pressed\";\n            }\n            let rankColor;\n            if (replyObj.rank < 0) {\n                rankColor = \"#fa0000ff\";\n            }\n            if (replyObj.rank == 0) {\n                rankColor = \"#999999ff\";\n            }\n            if (replyObj.rank > 0) {\n                rankColor = \"#8ac44bff\";\n            }\n            reply.innerHTML = `\r\n    <div class=\"comment__avatar avatar\">\r\n                  <img class=\"avatar__image\" src=\"https://loremflickr.com/61/61\" alt=\"avatar\" />\r\n                </div>\r\n                <div class=\"comment__main\">\r\n                  <div class=\"comment-main__info\">\r\n                    <p class=\"comment-main__info__name\">${this.inputModule.name}</p>\r\n                    <p class=\"comment-main__info__parent-name\">${parent.name}</p>\r\n                    <p class=\"comment-main__info__time\">${replyObj.date}</p>\r\n                  </div>\r\n                  <div class=\"main__text\">\r\n                  ${replyObj.replyText}\r\n                  </div>\r\n                  <div class=\"main__actions actions\">\r\n                    <span class=\"actions__button__favorite reply__actions__button__favorite ${clasForFavorite}\">${isFavorite}</span>\r\n                    <div class=\"actions__rating rating\">\r\n                      <button class=\"rating__button rating__button_decrease\">-</button>\r\n                      <span class=\"rating__number\" style=color:${rankColor}>${replyObj.rank}</span>\r\n                      <button class=\"rating__button rating__button_increase\"></button>\r\n                    </div>\r\n                  </div>\r\n                </div>`;\n            reply.scrollIntoView();\n            replyObj.replyHTML = reply;\n        };\n        this.sortComments = (field) => {\n            let arrayComments = [];\n            this.allCommentsObj.forEach((item) => {\n                arrayComments.push(item);\n            });\n            document.querySelectorAll(\".tred\").forEach((item) => {\n                item.remove();\n            });\n            if (field == \"По дате\") {\n                arrayComments.sort(byDate(\"fullDate\"));\n            }\n            else if (field == \"По количеству оценок\") {\n                arrayComments.sort(byQuantityOfRatings(\"absRank\"));\n            }\n            else if (field == \"По актуальности\") {\n                arrayComments.sort(byRelevance(\"fullDate\"));\n            }\n            else if (field == \"По количеству ответов\") {\n                arrayComments.sort(byQuantityOfReplies(\"isReplied\"));\n            }\n            arrayComments.forEach((item) => {\n                this.showComments(item);\n            });\n            function byDate(field) {\n                return (a, b) => a[field] > b[field] ? 1 : -1;\n            }\n            function byQuantityOfRatings(field) {\n                return (a, b) => a[field] < b[field] ? 1 : -1;\n            }\n            function byRelevance(field) {\n                return (a, b) => a[field] < b[field] ? 1 : -1;\n            }\n            function byQuantityOfReplies(field) {\n                return (a, b) => a[field] < b[field] ? 1 : -1;\n            }\n        };\n        this.loadComments = () => {\n            if (localStorage.length == 0)\n                return;\n            for (let i = 0; i < localStorage.length; i++) {\n                let comment = JSON.parse(`${localStorage.getItem(String(i))}`);\n                if (comment != null) {\n                    this.allCommentsObj.set(i, comment);\n                }\n            }\n            for (let i = 0.1; i < localStorage.length; i++) {\n                let reply = JSON.parse(`${localStorage.getItem(String(i))}`);\n                if (reply != null) {\n                    this.allCommentsObj.get(reply.id - 0.1).replyObj = reply;\n                    this.allCommentsObj.set(i, reply);\n                }\n            }\n            this.allCommentsObj.forEach((item) => {\n                this.showComments(item);\n            });\n        };\n        this.saveComments = (id, comment) => {\n            localStorage.setItem(String(id), JSON.stringify(comment));\n        };\n        this.saveChange = (id, comment) => {\n            localStorage.removeItem(String(id));\n            localStorage.setItem(String(id), JSON.stringify(comment));\n        };\n        this.commentArea = document.querySelector(\".comments\");\n        this.inputModule = new input_1.default();\n        this.allComments = Array.from(document.querySelectorAll(\".comment\"));\n        this.allCommentsObj = new Map();\n        this.favoriteCommentsObj = new Set();\n        this.quantityOfComments = this.allComments.length;\n        document.querySelector(\".info__quantity\").innerText = this.quantityOfComments;\n        this.buttonShowFavorite = document.querySelector(\".comments__header__favourites\");\n        this.buttonSort = document.querySelector(\".sort__button\");\n    }\n    makeFavorite(makeFavoriteButton) {\n        if (makeFavoriteButton.classList[0] !== \"actions__button__favorite\")\n            return;\n        let comment = makeFavoriteButton.parentNode.parentNode.parentNode;\n        let objectId = +comment[\"id\"];\n        let favoriteObj = this.allCommentsObj.get(objectId);\n        makeFavoriteButton.classList.toggle(\"actions__button__favorite_pressed\");\n        if (favoriteObj.isFavorite == false) {\n            favoriteObj.isFavorite = true;\n            this.favoriteCommentsObj.add(favoriteObj);\n            makeFavoriteButton.textContent = \"В избранном\";\n            comment.setAttribute(\"favorite\", \"true\");\n        }\n        else if (favoriteObj.isFavorite == true) {\n            favoriteObj.isFavorite = false;\n            this.favoriteCommentsObj.delete(favoriteObj);\n            makeFavoriteButton.textContent = \"В избранное\";\n            comment.setAttribute(\"favorite\", \"false\");\n        }\n        this.saveChange(objectId, favoriteObj);\n    }\n    createReply(button) {\n        let replyModule = new reply_1.default();\n        let id = Number(button[\"id\"].split(\"-\")[0]);\n        let parentObj = this.allCommentsObj.get(id);\n        replyModule.id = parentObj.id + 0.1;\n        this.allCommentsObj.set(replyModule.id, replyModule);\n        parentObj.replyObj = replyModule;\n        parentObj.isReplied = true;\n        this.showReply(parentObj, replyModule);\n        this.saveComments(replyModule.id, replyModule);\n        this.saveChange(id, parentObj);\n    }\n}\nlet main = new Main();\ndocument.execCommand(\"insertBrOnReturn\");\nlet observer = new MutationObserver((mutationRecords) => {\n    if (mutationRecords[0].addedNodes[0]) {\n        if (mutationRecords[0].addedNodes[0].className == \"tred\" || mutationRecords[0].addedNodes[0].className == \"reply__answer comment\") {\n            main.updateElements();\n        }\n    }\n});\nobserver.observe(main.commentArea, {\n    childList: true,\n    subtree: true,\n});\ndocument.addEventListener(\"click\", (e) => {\n    if (e.target.classList.contains(\"rating__button\")) {\n        main.changeRank(e.target);\n    }\n});\nmain.buttonShowFavorite.addEventListener(\"click\", main.showFavorite);\nmain.buttonSort.addEventListener(\"click\", () => {\n    let sortList = document.querySelector(\".sort__list\");\n    let listItem = Array.from(document.querySelectorAll(\".sort-list__item\"));\n    sortList.classList.toggle(\"invisible\");\n    listItem.forEach((item) => {\n        item.addEventListener(\"click\", () => {\n            main.buttonSort.textContent = item.textContent;\n            sortList.classList.add(\"invisible\");\n            main.sortComments(item.textContent);\n        });\n    });\n});\nmain.inputModule.buttonSend.addEventListener(\"click\", () => {\n    main.createComment();\n    main.inputModule.cleanTextArea();\n    main.showComments(main.allCommentsObj.get(main.quantityOfComments));\n    main.updateElements();\n});\ndocument.addEventListener(\"click\", (e) => {\n    main.makeFavorite(e.target);\n});\ndocument.addEventListener(\"click\", (e) => {\n    var _a, _b;\n    if (e.target == null || !e.target.classList.contains(\"actions__button__reply\"))\n        return;\n    let id = Number(e.target[\"id\"].split(\"-\")[0]);\n    let parentObj = main.allCommentsObj.get(id);\n    let replyBlock = (_a = parentObj.appropriateHTMLObject.nextSibling) === null || _a === void 0 ? void 0 : _a.nextSibling;\n    if (parentObj.isReplied == true)\n        return;\n    if (document.querySelector(\".reply__typing\")) {\n        (_b = document.querySelector(\".reply__typing\")) === null || _b === void 0 ? void 0 : _b.remove();\n        return;\n    }\n    let replyInputModule = new reply_input_1.default();\n    replyBlock.innerHTML = replyInputModule.replyTyping;\n    replyBlock.scrollIntoView();\n    let replyInputBox = document.querySelector(\".reply__typing\");\n    let replyInput = document.querySelector(\".reply-textarea\");\n    let replyPlaceholder = document.querySelector(\".reply-placeholder\");\n    let replyContent = replyInput.textContent;\n    let replyButton = document.querySelector(\".reply-button\");\n    replyButton.setAttribute(\"id\", `${parentObj.id}-reply-btn`);\n    replyInput.onfocus = () => {\n        replyPlaceholder.style.display = \"none\";\n    };\n    replyInput.onblur = () => {\n        if (replyContent.length == 0) {\n            replyInputModule.makeButtonDisabled(replyButton);\n            replyPlaceholder.style.display = \"inline\";\n            document.querySelector(\".reply-symbols_empty\").classList.remove(\"invisible\");\n            document.querySelector(\".reply-symbols_typing\").classList.add(\"invisible\");\n        }\n        if (replyContent.length > replyInputModule.maxLength) {\n            replyInputModule.makeButtonDisabled(replyButton);\n        }\n    };\n    replyInput.addEventListener(\"input\", (e) => {\n        document.querySelector(\".reply-symbols_empty\").classList.add(\"invisible\");\n        document.querySelector(\".reply-symbols_typing\").classList.remove(\"invisible\");\n        if (replyContent.length + 1 > replyInputModule.maxLength && e.inputType == \"insertText\") {\n            replyInput.textContent = replyContent.substring(0, replyInputModule.maxLength);\n            replyInput.focus();\n            replyInputModule.placeCaretAtEnd(document.querySelector(\".reply-textarea\"));\n        }\n        replyContent = replyInput.textContent;\n        document.querySelector(\".reply-symbols__quantity\").innerHTML = replyContent.length;\n        if (replyContent.length > 0 && replyContent.length < replyInputModule.maxLength) {\n            replyInputModule.makeButtonEnabled(replyButton);\n        }\n    });\n    replyInput.addEventListener(\"paste\", (event) => {\n        const clipboardData = event.clipboardData || window.clipboardData;\n        if (clipboardData) {\n            if (clipboardData.types && clipboardData.types.includes(\"Files\")) {\n                event.preventDefault();\n            }\n        }\n    });\n    replyInput.addEventListener(\"paste\", (e) => {\n        e.preventDefault();\n        let text = e.clipboardData.getData(\"text/plain\");\n        document.execCommand(\"insertHTML\", false, text);\n    });\n    replyInput.addEventListener(\"keydown\", () => {\n        setTimeout(checkIsInputEmpty, 1);\n    });\n    function checkIsInputEmpty() {\n        if (replyContent.length == 0 || replyContent.length > replyInputModule.maxLength) {\n            replyInputModule.makeButtonDisabled(replyButton);\n        }\n    }\n    replyButton.addEventListener(\"click\", () => {\n        main.createReply(replyButton);\n        replyInputBox.remove();\n    });\n});\nmain.loadComments();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MainInputModule {\n    constructor() {\n        this.cleanTextArea = () => {\n            this.input.innerText = \"\";\n            this.content = \"\";\n            this.placeholder.style.display = \"inline\";\n            document.querySelector(\".main__symbols_empty\").classList.remove(\"invisible\");\n            document.querySelector(\".main__symbols_typing\").classList.add(\"invisible\");\n            this.makeButtonDisabled();\n        };\n        this.name = \"Аноним\";\n        this.maxLength = 1000;\n        this.input = document.querySelector(\".textarea__input\");\n        this.content = this.input.textContent;\n        this.placeholder = document.querySelector(\".textarea__placeholder\");\n        this.buttonSend = document.querySelector(\".typing__button\");\n        if (!this.input) {\n            return;\n        }\n    }\n    placeCaretAtEnd(el) {\n        el.focus();\n        if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n            let range = document.createRange();\n            range.selectNodeContents(el);\n            range.collapse(false);\n            let sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        else if (typeof document.body.createRange != \"undefined\") {\n            let textRange = document.body.createRange();\n            textRange.moveToElementText(el);\n            textRange.collapse(false);\n            textRange.select();\n        }\n    }\n    makeButtonEnabled() {\n        this.buttonSend.classList.remove(\"button_disabled\");\n        this.buttonSend.classList.add(\"button_enabled\");\n        this.buttonSend.disabled = false;\n    }\n    makeButtonDisabled() {\n        this.buttonSend.classList.add(\"button_disabled\");\n        this.buttonSend.classList.remove(\"button_enabled\");\n        this.buttonSend.disabled = true;\n    }\n}\nlet inputModule = new MainInputModule();\ninputModule.input.onfocus = () => {\n    inputModule.placeholder.style.display = \"none\";\n};\ninputModule.input.onblur = () => {\n    if (inputModule.content.length == 0) {\n        inputModule.makeButtonDisabled();\n        inputModule.placeholder.style.display = \"inline\";\n        document.querySelector(\".main__symbols_empty\").classList.remove(\"invisible\");\n        document.querySelector(\".main__symbols_typing\").classList.add(\"invisible\");\n    }\n    if (inputModule.content.length > inputModule.maxLength) {\n        inputModule.makeButtonDisabled();\n    }\n};\ninputModule.input.addEventListener(\"input\", (e) => {\n    document.querySelector(\".main__symbols_empty\").classList.add(\"invisible\");\n    document.querySelector(\".main__symbols_typing\").classList.remove(\"invisible\");\n    if (inputModule.content.length + 1 > inputModule.maxLength && e.inputType == \"insertText\") {\n        inputModule.input.textContent = inputModule.content.substring(0, inputModule.maxLength);\n        inputModule.input.focus();\n        inputModule.placeCaretAtEnd(document.querySelector(\".textarea__input\"));\n    }\n    inputModule.content = inputModule.input.textContent;\n    document.querySelector(\".symbols__quantity\").innerHTML = inputModule.content.length;\n    if (inputModule.content.length > 0 && inputModule.content.length < inputModule.maxLength) {\n        inputModule.makeButtonEnabled();\n    }\n});\ninputModule.input.addEventListener(\"paste\", (event) => {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    if (clipboardData) {\n        if (clipboardData.types && clipboardData.types.includes(\"Files\")) {\n            event.preventDefault();\n        }\n    }\n});\ninputModule.input.addEventListener(\"paste\", (e) => {\n    e.preventDefault();\n    let text = e.clipboardData.getData(\"text/plain\");\n    document.execCommand(\"insertHTML\", false, text);\n});\ninputModule.input.addEventListener(\"keydown\", () => {\n    setTimeout(checkIsInputEmpty, 1);\n});\nfunction checkIsInputEmpty() {\n    if (inputModule.content.length == 0) {\n        inputModule.makeButtonDisabled();\n    }\n    if (inputModule.content.length > inputModule.maxLength) {\n        inputModule.makeButtonDisabled();\n    }\n}\nexports.default = MainInputModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ReplyModule {\n    constructor() {\n        this.name = document.querySelector(\".main__name\").textContent;\n        this.rank = 0;\n        this.absRank = Math.abs(this.rank);\n        this.rankStatus = \"none\";\n        this.freePoints = 1;\n        this.isFavorite = false;\n        this.month = new Date().getMonth() + 1;\n        if (this.month < 10) {\n            this.month = \"0\" + this.month;\n        }\n        this.day = new Date().getDate();\n        if (this.day < 10) {\n            this.day = \"0\" + this.day;\n        }\n        this.hours = new Date().getHours();\n        if (this.hours < 10) {\n            this.hours = \"0\" + this.hours;\n        }\n        this.minutes = new Date().getMinutes();\n        if (this.minutes < 10) {\n            this.minutes = \"0\" + this.minutes;\n        }\n        this.date = `${this.day}.${this.month} ${this.hours}:${this.minutes}`;\n        this.replyText = document.querySelector(\".reply-textarea\").textContent;\n    }\n}\nexports.default = ReplyModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ReplyInputModule {\n    constructor() {\n        this.cleanTextArea = () => {\n            this.inputReply.innerText = \"\";\n            this.contentReply = \"\";\n            this.placeholderReply.style.display = \"inline\";\n            document.querySelector(\".main__symbols_empty\").classList.remove(\"invisible\");\n            document.querySelector(\".main__symbols_typing\").classList.add(\"invisible\");\n        };\n        this.name = \"Аноним\";\n        document.querySelector(\".main__name\").textContent = this.name;\n        this.maxLength = 1000;\n        this.replyTyping = `\r\n    <div class=\"reply__typing\">\r\n                <div class=\"reply-typing__avatar avatar\">\r\n                  <img class=\"avatar__image\" src=\"https://loremflickr.com/61/61\" alt=\"avatar\" />\r\n                </div>\r\n                <div class=\"reply-typing__main\">\r\n                  <div class=\"main__name-and-symbols\">\r\n                    <p class=\"main__name\">${this.name}</p>\r\n                    <p class=\"main__symbols main__symbols_empty reply-symbols_empty\">Макс. 1000 символов</p>\r\n                    <p class=\"main__symbols main__symbols_typing reply-symbols_typing invisible\">\r\n                      <span class=\"symbols__quantity reply-symbols__quantity\">1</span>/1000\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"main__textarea\">\r\n                    <span class=\"textarea__placeholder reply-placeholder\">Введите текст сообщения...</span>\r\n                    <div class=\"textarea__input reply-textarea\" contenteditable=\"true\" ondrop=\"return false;\"></div>\r\n                  </div>\r\n                </div>\r\n                <button class=\"typing__button reply-button button_disabled\" disabled>Ответить</button>\r\n              </div>`;\n    }\n    placeCaretAtEnd(el) {\n        el.focus();\n        if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n            let range = document.createRange();\n            range.selectNodeContents(el);\n            range.collapse(false);\n            let sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        else if (typeof document.body.createRange != \"undefined\") {\n            let textRange = document.body.createRange();\n            textRange.moveToElementText(el);\n            textRange.collapse(false);\n            textRange.select();\n        }\n    }\n    makeButtonEnabled(button) {\n        button.classList.remove(\"button_disabled\");\n        button.classList.add(\"button_enabled\");\n        button.disabled = false;\n    }\n    makeButtonDisabled(button) {\n        button.classList.add(\"button_disabled\");\n        button.classList.remove(\"button_enabled\");\n        button.disabled = true;\n    }\n}\nlet replyInputModule = new ReplyInputModule();\nexports.default = ReplyInputModule;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/js/index.js\");\n",""],"names":["Object","defineProperty","exports","value","CommentModule","constructor","id","name","rank","absRank","Math","abs","rankStatus","freePoints","isReplied","isFavorite","fullDate","Date","getTime","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","date","commentText","document","querySelector","textContent","default","__importDefault","mod","__esModule","input_1","require","comment_1","reply_input_1","reply_1","Main","updateElements","allComments","Array","from","querySelectorAll","quantityOfComments","length","innerText","showFavorite","buttonShowFavorite","classList","toggle","answers","contains","forEach","item","style","marginLeft","getAttribute","display","changeRank","rankButton","_a","_b","_c","_d","_e","_f","_g","_h","_j","parent","parentNode","Number","split","parentObj","allCommentsObj","get","nextSibling","previousSibling","color","saveChange","createComment","size","comment","set","saveComments","showComments","undefined","tred","createElement","className","clasForFavorite","rankColor","innerHTML","append","appropriateHTMLObject","getElementById","replyObj","showReply","scrollIntoView","reply","setAttribute","inputModule","replyText","replyHTML","sortComments","field","arrayComments","push","remove","sort","byDate","byQuantityOfRatings","byRelevance","byQuantityOfReplies","a","b","loadComments","localStorage","i","JSON","parse","getItem","String","setItem","stringify","removeItem","commentArea","Map","favoriteCommentsObj","Set","buttonSort","makeFavorite","makeFavoriteButton","objectId","favoriteObj","add","delete","createReply","button","replyModule","main","execCommand","observer","MutationObserver","mutationRecords","addedNodes","observe","childList","subtree","addEventListener","e","target","sortList","listItem","buttonSend","cleanTextArea","replyBlock","replyInputModule","replyTyping","replyInputBox","replyInput","replyPlaceholder","replyContent","replyButton","onfocus","onblur","makeButtonDisabled","maxLength","inputType","substring","focus","placeCaretAtEnd","makeButtonEnabled","event","clipboardData","window","types","includes","preventDefault","text","getData","setTimeout","checkIsInputEmpty","MainInputModule","input","content","placeholder","el","getSelection","createRange","range","selectNodeContents","collapse","sel","removeAllRanges","addRange","body","textRange","moveToElementText","select","disabled","ReplyModule","ReplyInputModule","inputReply","contentReply","placeholderReply"],"sourceRoot":""}